
<html>

<head>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
</head>


<body ng-app="formExample">
<div ng-controller="ExampleController">
  
    <h3>Con este codigo puedes poner las propiedades de un objeto a partir de un arreglo con nombres para esas propiedades</h3>
    <h4>https://stackoverflow.com/questions/17643965/automatically-create-object-if-undefined</h4>
    
    <p>New object</p>
    <code>
myObj = {}; <br> 
//recursive function <br>

function addProps(obj, arr, val) {<br>
<br>
    if (typeof arr == 'string')<br>
        arr = arr.split(".");<br>
<br>
    obj[arr[0]] = obj[arr[0]] || {};<br>
<br>
    var tmpObj = obj[arr[0]];<br>
<br>
    if (arr.length > 1) {<br>
        arr.shift();<br>
        addProps(tmpObj, arr, val);<br>
    }<br>
    else<br>
        obj[arr[0]] = val;<br>
<br>
    return obj;<br>
<br>
}<br>
    <br>
    </code>
    
    <p>Call it with a dot notated string</p>
    <code>addProps(myObj, 'sub1.sub2.propA', 1);</code>
    <p>or with an array</p>
    <code>addProps(myObj, ['sub1', 'sub2', 'propA'], 1);</code>
    <p>and your object will look like this</p>
    <code>
myObj = {<br>
  "sub1": {<br>
    "sub2": {<br>
      "propA": 1<br>
    }<br>
  }<br>
};
        </code>
<p>It works with non-empty objects too!</p>
    
    
</div>
</body>

<script>
   
    // JS CODE
    
</script>

</html>
